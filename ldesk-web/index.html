<!DOCTYPE html>

<html>

	<head>
		<title>LDesk Application</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="dojo/resources/dojo.css">
		<link rel="stylesheet" href="dgrid/css/dgrid.css">
		<link rel="stylesheet" href="dijit/themes/claro/claro.css">
		<link rel="stylesheet" href="external/highlight/styles/nnfx-light.css">
		<link rel="stylesheet" href="external/tabulator/css/tabulator.min.css">
		<link rel="stylesheet" href="external/jquery-cron/jquery-cron.css" />
		<link rel="stylesheet" href="dojox/form/resources/CheckedMultiSelect.css">
		<link rel="stylesheet" href="dojox/form/resources/ListInput.css">
		<link rel="stylesheet" href="external/gridstack/gridstack.min.css">
		<link rel="styleheet" href="dojox/widget/Toaster/Toaster.css">

		<link rel="icon" href="images/favicon-16x16.png">
		<link rel="icon" href="images/Lingo-Favicon.png" sizes="32x32" />
		<link rel="icon" href="images//Lingo-Favicon.png" sizes="192x192" />
		<link rel="apple-touch-icon" href="images/Lingo-Favicon.png" />
		<meta name="msapplication-TileImage" content="images//Lingo-Favicon.png" />
		<script type="text/javascript">
			var version = "1.25";
			window.version = version;
			dojoConfig = {
				baseUrl: location.href.substring(0, location.href.lastIndexOf("/") + 1),
				async: true,
				packages: ['dojo', 'dijit', 'dojox', 'dstore', 'dgrid', 'put-selector', 'xstyle', 'app'],
				cacheBust: "v=" + version,
				isDebug: false
			};

		</script>
		<script type="text/javascript" src="external/gzipjs/createGzipStreamMinified.js"></script>

		<script>
			gzipjs = require('createGzipStream');

		</script>

		<script type="text/javascript" src="external/mail-parser.js"></script>
		<script>
			dnp = require('dnp');

		</script>

		<script type="text/javascript" src="external/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="external/tabulator/js/tabulator.min.js"></script>
		<script type="text/javascript" src="external/sheetjs/xlsx.full.min.js"></script>
		<script type="text/javascript" src="external/flexmonster/flexmonster.js"></script>
		<script type="text/javascript" src="external/jquery-cron/jquery-cron.js"></script>
		<script type="text/javascript" src="external/gridstack/gridstack-all.js"></script>
		<script type="text/javascript" src="external/multi-range-slider/range-slider.main.min.js"></script>


		<script type="text/javascript" src="dojo/dojo.js"></script>
		<script type="text/javascript" src="external/des.js"></script>
		<script type="text/javascript" src="external/shortcut.js"></script>
		<script type="text/javascript" src="external/highlight/highlight.min.js"></script>
		<script type="text/javascript" src="external/okta-auth-js/okta-auth-js.min.js"></script>

		<script>
			hljs.highlightAll();
			//google.load("visualization", "1", { packages: ["corechart", "charteditor"] });
			//google.charts.load("current", { packages: ['corechart', 'charteditor'] });
		</script>

		<script type="text/javascript">
			window.onbeforeunload = function (event) {

				if (document.activeElement.id == "loginPage_oktaBtn") {
					return;
				}
				return "Reloading/Closing this page may cause data loss.";
			};

			require(["xstyle/css!./css/app-ldesk.css"]);
			require(["app"]);
			window.onload = function () {
				var div = document.getElementById("loading_icon");

				var observer = new MutationObserver(function () {
					if (div.style.display != 'none') {
						document.activeElement.blur();
					}
				});
				observer.observe(div, {
					attributes: true,
					childList: true
				});
			}

			/*
			document.onkeydown = function(e) {
	
				div = document.getElementById("loading_icon");
				if (div) {
					if (div.style.display !== "none") {
						console.log("Loading is on. Prevent Key movement");
						console.log(e.code);
						e.preventDefault();
						return false;
					}
				}
			}
			*/

		</script>
	</head>

	<body class="claro">
		<div id="loading_icon" style="display:none;z-index:959;background:rgb(255,255,255);position:fixed;height:100%;opacity:0.5;width:100%;overflow:hidden!important">
			<img src="images/loading_icon.gif" style="z-index:960;position:relative;left:45%;top:45%;" />
		</div>
	</body>

</html>